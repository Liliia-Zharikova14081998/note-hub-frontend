{"version":3,"sources":["turbopack:///[project]/node_modules/next/navigation.js","turbopack:///[project]/app/@modal/(.)notes/[id]/NotePreview.module.css [app-ssr] (css module)","turbopack:///[project]/components/Modal/Modal.module.css [app-ssr] (css module)","turbopack:///[project]/app/@modal/(.)notes/[id]/NotePreview.client.tsx","turbopack:///[project]/components/Modal/Modal.tsx"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n","__turbopack_context__.v({\n  \"backBtn\": \"NotePreview-module__U-az_a__backBtn\",\n  \"container\": \"NotePreview-module__U-az_a__container\",\n  \"content\": \"NotePreview-module__U-az_a__content\",\n  \"date\": \"NotePreview-module__U-az_a__date\",\n  \"header\": \"NotePreview-module__U-az_a__header\",\n  \"item\": \"NotePreview-module__U-az_a__item\",\n  \"tag\": \"NotePreview-module__U-az_a__tag\",\n});\n","__turbopack_context__.v({\n  \"backdrop\": \"Modal-module__sR2AWG__backdrop\",\n  \"modal\": \"Modal-module__sR2AWG__modal\",\n});\n","'use client';\r\n\r\nimport css from './NotePreview.module.css';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { useRouter, useParams } from \"next/navigation\";\r\nimport { fetchNoteById } from '@/lib/api';\r\nimport Modal from '@/components/Modal/Modal';\r\n\r\n\r\nexport default function NotePreview () {\r\n  const router = useRouter();   \r\n  const params = useParams();\r\n  const { id } = params as { id: string };\r\n  \r\n  const handleClick = () => {\r\n    router.back();\r\n  }\r\n\r\n  const { data: note, isLoading, error } = useQuery({\r\n    queryKey: ['note', id],\r\n    queryFn: () => fetchNoteById(id),\r\n    refetchOnMount: false,\r\n  });\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Modal onClose={() => router.back()}>\r\n        <p>Loading, please wait...</p>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\nif (error || !note) {\r\n    return (\r\n      <Modal onClose={() => router.back()}>\r\n        <p>Something went wrong.</p>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n  return (\r\n      <Modal onClose={handleClick}>\r\n    <div className={css.container}>\r\n      <div className={css.item}>\r\n        <div className={css.header}>\r\n        <h2>{note.title}</h2>\r\n        <button onClick={handleClick} className={css.backBtn}>Back</button>\r\n        </div>\r\n        <p className={css.content}>{note.content}</p>\r\n        <p className={css.date}>\r\n          {new Date(note.createdAt).toLocaleDateString()}\r\n        </p>\r\n        {note.tag && <span className={css.tag}>{note.tag}</span>}\r\n      </div>\r\n      </div>\r\n      </Modal>\r\n  );\r\n}\r\n\r\n","\"use client\";\r\n\r\nimport css from \"./Modal.module.css\"\r\nimport { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ninterface ModalProps {\r\n  onClose?: () => void;\r\n  children: React.ReactNode;\r\n}\r\n \r\nexport default function Modal({ onClose, children }: ModalProps) {\r\n  const router = useRouter();\r\n  if (!onClose) {\r\n    onClose = () => router.back();\r\n  }\r\n\r\n  const handleBackdropClick = (e: React.MouseEvent) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\") {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handleKeyDown);\r\n    document.body.style.overflow = \"hidden\";\r\n    \r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleKeyDown);\r\n      document.body.style.overflow = \"\";\r\n    }\r\n  }, [onClose]);\r\n\r\n    return createPortal (\r\n  <div\r\n  className={css.backdrop}\r\n  role=\"dialog\"\r\n  aria-modal=\"true\"\r\n  onClick={handleBackdropClick}\r\n>\r\n  <div className={css.modal}>\r\n    {children}\r\n  </div>\r\n</div>,\r\n  document.body\r\n);\r\n}"],"names":[],"mappings":"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","ignoreList":[0]}