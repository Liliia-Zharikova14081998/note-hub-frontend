(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},66027,e=>{"use strict";e.s(["useQuery",()=>es],66027);var t,s,i,a,r,n,l,o,h,u,d,c,_,p,f,v,b,m,y,g,w,R,k,S,O=e.i(39946),C=e.i(70292),E=e.i(62351),M=e.i(37696),x=e.i(88245),U=e.i(75555),T=e.i(40143),W=e.i(86491),j=e.i(15823),q=e.i(93803),P=e.i(19273),Q=e.i(80166),A=(t=new WeakMap,s=new WeakMap,i=new WeakMap,a=new WeakMap,r=new WeakMap,n=new WeakMap,l=new WeakMap,o=new WeakMap,h=new WeakMap,u=new WeakMap,d=new WeakMap,c=new WeakMap,_=new WeakMap,p=new WeakMap,f=new WeakMap,v=new WeakSet,b=new WeakSet,m=new WeakSet,y=new WeakSet,g=new WeakSet,w=new WeakSet,R=new WeakSet,k=new WeakSet,S=new WeakSet,class extends j.Subscribable{bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,O._)(this,s).addObserver(this),D((0,O._)(this,s),this.options)?(0,M._)(this,v,L).call(this):this.updateResult(),(0,M._)(this,g,K).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return N((0,O._)(this,s),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return N((0,O._)(this,s),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,M._)(this,w,G).call(this),(0,M._)(this,R,V).call(this),(0,O._)(this,s).removeObserver(this)}setOptions(e){let i=this.options,a=(0,O._)(this,s);if(this.options=(0,O._)(this,t).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,P.resolveEnabled)(this.options.enabled,(0,O._)(this,s)))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");(0,M._)(this,k,J).call(this),(0,O._)(this,s).setOptions(this.options),i._defaulted&&!(0,P.shallowEqualObjects)(this.options,i)&&(0,O._)(this,t).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,O._)(this,s),observer:this});let r=this.hasListeners();r&&I((0,O._)(this,s),a,this.options,i)&&(0,M._)(this,v,L).call(this),this.updateResult(),r&&((0,O._)(this,s)!==a||(0,P.resolveEnabled)(this.options.enabled,(0,O._)(this,s))!==(0,P.resolveEnabled)(i.enabled,(0,O._)(this,s))||(0,P.resolveStaleTime)(this.options.staleTime,(0,O._)(this,s))!==(0,P.resolveStaleTime)(i.staleTime,(0,O._)(this,s)))&&(0,M._)(this,b,z).call(this);let n=(0,M._)(this,m,B).call(this);r&&((0,O._)(this,s)!==a||(0,P.resolveEnabled)(this.options.enabled,(0,O._)(this,s))!==(0,P.resolveEnabled)(i.enabled,(0,O._)(this,s))||n!==(0,O._)(this,p))&&(0,M._)(this,y,H).call(this,n)}getOptimisticResult(e){var i,l;let o=(0,O._)(this,t).getQueryCache().build((0,O._)(this,t),e),h=this.createResult(o,e);return i=this,l=h,(0,P.shallowEqualObjects)(i.getCurrentResult(),l)||((0,E._)(this,a,h),(0,E._)(this,n,this.options),(0,E._)(this,r,(0,O._)(this,s).state)),h}getCurrentResult(){return(0,O._)(this,a)}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),null==t||t(s),"promise"!==s||this.options.experimental_prefetchInRender||"pending"!==(0,O._)(this,l).status||(0,O._)(this,l).reject(Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(e,s))})}trackProp(e){(0,O._)(this,f).add(e)}getCurrentQuery(){return(0,O._)(this,s)}refetch(){let{...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...e})}fetchOptimistic(e){let s=(0,O._)(this,t).defaultQueryOptions(e),i=(0,O._)(this,t).getQueryCache().build((0,O._)(this,t),s);return i.fetch().then(()=>this.createResult(i,s))}fetch(e){var t;return(0,M._)(this,v,L).call(this,{...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then(()=>(this.updateResult(),(0,O._)(this,a)))}createResult(e,t){let c,_=(0,O._)(this,s),p=this.options,f=(0,O._)(this,a),v=(0,O._)(this,r),b=(0,O._)(this,n),m=e!==_?e.state:(0,O._)(this,i),{state:y}=e,g={...y},w=!1;if(t._optimisticResults){let s=this.hasListeners(),i=!s&&D(e,t),a=s&&I(e,_,t,p);(i||a)&&(g={...g,...(0,W.fetchState)(y.data,e.options)}),"isRestoring"===t._optimisticResults&&(g.fetchStatus="idle")}let{error:R,errorUpdatedAt:k,status:S}=g;c=g.data;let C=!1;if(void 0!==t.placeholderData&&void 0===c&&"pending"===S){let e;if((null==f?void 0:f.isPlaceholderData)&&t.placeholderData===(null==b?void 0:b.placeholderData))e=f.data,C=!0;else{var M;e="function"==typeof t.placeholderData?t.placeholderData(null==(M=(0,O._)(this,d))?void 0:M.state.data,(0,O._)(this,d)):t.placeholderData}void 0!==e&&(S="success",c=(0,P.replaceData)(null==f?void 0:f.data,e,t),w=!0)}if(t.select&&void 0!==c&&!C)if(f&&c===(null==v?void 0:v.data)&&t.select===(0,O._)(this,h))c=(0,O._)(this,u);else try{(0,E._)(this,h,t.select),c=t.select(c),c=(0,P.replaceData)(null==f?void 0:f.data,c,t),(0,E._)(this,u,c),(0,E._)(this,o,null)}catch(e){(0,E._)(this,o,e)}(0,O._)(this,o)&&(R=(0,O._)(this,o),c=(0,O._)(this,u),k=Date.now(),S="error");let x="fetching"===g.fetchStatus,U="pending"===S,T="error"===S,j=U&&x,Q=void 0!==c,A={status:S,fetchStatus:g.fetchStatus,isPending:U,isSuccess:"success"===S,isError:T,isInitialLoading:j,isLoading:j,data:c,dataUpdatedAt:g.dataUpdatedAt,error:R,errorUpdatedAt:k,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>m.dataUpdateCount||g.errorUpdateCount>m.errorUpdateCount,isFetching:x,isRefetching:x&&!U,isLoadingError:T&&!Q,isPaused:"paused"===g.fetchStatus,isPlaceholderData:w,isRefetchError:T&&Q,isStale:F(e,t),refetch:this.refetch,promise:(0,O._)(this,l),isEnabled:!1!==(0,P.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===A.status?e.reject(A.error):void 0!==A.data&&e.resolve(A.data)},s=()=>{t((0,E._)(this,l,A.promise=(0,q.pendingThenable)()))},i=(0,O._)(this,l);switch(i.status){case"pending":e.queryHash===_.queryHash&&t(i);break;case"fulfilled":("error"===A.status||A.data!==i.value)&&s();break;case"rejected":("error"!==A.status||A.error!==i.reason)&&s()}}return A}updateResult(){let e=(0,O._)(this,a),t=this.createResult((0,O._)(this,s),this.options);if((0,E._)(this,r,(0,O._)(this,s).state),(0,E._)(this,n,this.options),void 0!==(0,O._)(this,r).data&&(0,E._)(this,d,(0,O._)(this,s)),(0,P.shallowEqualObjects)(t,e))return;(0,E._)(this,a,t);let i=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!(0,O._)(this,f).size)return!0;let i=new Set(null!=s?s:(0,O._)(this,f));return this.options.throwOnError&&i.add("error"),Object.keys((0,O._)(this,a)).some(t=>(0,O._)(this,a)[t]!==e[t]&&i.has(t))};(0,M._)(this,S,X).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,M._)(this,g,K).call(this)}constructor(e,O){super(),(0,x._)(this,v),(0,x._)(this,b),(0,x._)(this,m),(0,x._)(this,y),(0,x._)(this,g),(0,x._)(this,w),(0,x._)(this,R),(0,x._)(this,k),(0,x._)(this,S),(0,C._)(this,t,{writable:!0,value:void 0}),(0,C._)(this,s,{writable:!0,value:void 0}),(0,C._)(this,i,{writable:!0,value:void 0}),(0,C._)(this,a,{writable:!0,value:void 0}),(0,C._)(this,r,{writable:!0,value:void 0}),(0,C._)(this,n,{writable:!0,value:void 0}),(0,C._)(this,l,{writable:!0,value:void 0}),(0,C._)(this,o,{writable:!0,value:void 0}),(0,C._)(this,h,{writable:!0,value:void 0}),(0,C._)(this,u,{writable:!0,value:void 0}),(0,C._)(this,d,{writable:!0,value:void 0}),(0,C._)(this,c,{writable:!0,value:void 0}),(0,C._)(this,_,{writable:!0,value:void 0}),(0,C._)(this,p,{writable:!0,value:void 0}),(0,C._)(this,f,{writable:!0,value:new Set}),this.options=O,(0,E._)(this,t,e),(0,E._)(this,o,null),(0,E._)(this,l,(0,q.pendingThenable)()),this.bindMethods(),this.setOptions(O)}});function D(e,t){return!1!==(0,P.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&N(e,t,t.refetchOnMount)}function N(e,t,s){if(!1!==(0,P.resolveEnabled)(t.enabled,e)&&"static"!==(0,P.resolveStaleTime)(t.staleTime,e)){let i="function"==typeof s?s(e):s;return"always"===i||!1!==i&&F(e,t)}return!1}function I(e,t,s,i){return(e!==t||!1===(0,P.resolveEnabled)(i.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&F(e,s)}function F(e,t){return!1!==(0,P.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,P.resolveStaleTime)(t.staleTime,e))}function L(e){(0,M._)(this,k,J).call(this);let t=(0,O._)(this,s).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(P.noop)),t}function z(){(0,M._)(this,w,G).call(this);let e=(0,P.resolveStaleTime)(this.options.staleTime,(0,O._)(this,s));if(P.isServer||(0,O._)(this,a).isStale||!(0,P.isValidTimeout)(e))return;let t=(0,P.timeUntilStale)((0,O._)(this,a).dataUpdatedAt,e);(0,E._)(this,c,Q.timeoutManager.setTimeout(()=>{(0,O._)(this,a).isStale||this.updateResult()},t+1))}function B(){var e;return null!=(e="function"==typeof this.options.refetchInterval?this.options.refetchInterval((0,O._)(this,s)):this.options.refetchInterval)&&e}function H(e){(0,M._)(this,R,V).call(this),(0,E._)(this,p,e),!P.isServer&&!1!==(0,P.resolveEnabled)(this.options.enabled,(0,O._)(this,s))&&(0,P.isValidTimeout)((0,O._)(this,p))&&0!==(0,O._)(this,p)&&(0,E._)(this,_,Q.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||U.focusManager.isFocused())&&(0,M._)(this,v,L).call(this)},(0,O._)(this,p)))}function K(){(0,M._)(this,b,z).call(this),(0,M._)(this,y,H).call(this,(0,M._)(this,m,B).call(this))}function G(){(0,O._)(this,c)&&(Q.timeoutManager.clearTimeout((0,O._)(this,c)),(0,E._)(this,c,void 0))}function V(){(0,O._)(this,_)&&(Q.timeoutManager.clearInterval((0,O._)(this,_)),(0,E._)(this,_,void 0))}function J(){let e=(0,O._)(this,t).getQueryCache().build((0,O._)(this,t),this.options);if(e===(0,O._)(this,s))return;let a=(0,O._)(this,s);(0,E._)(this,s,e),(0,E._)(this,i,e.state),this.hasListeners()&&(null==a||a.removeObserver(this),e.addObserver(this))}function X(e){T.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e((0,O._)(this,a))}),(0,O._)(this,t).getQueryCache().notify({query:(0,O._)(this,s),type:"observerResultsUpdated"})})}e.i(47167);var Y=e.i(71645),Z=e.i(12598);e.i(43476);var $=Y.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),ee=Y.createContext(!1);ee.Provider;var et=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function es(e,t){return function(e,t,s){var i,a,r,n,l;let o=Y.useContext(ee),h=Y.useContext($),u=(0,Z.useQueryClient)(s),d=u.defaultQueryOptions(e);if(null==(a=u.getDefaultOptions().queries)||null==(i=a._experimental_beforeQuery)||i.call(a,d),d._optimisticResults=o?"isRestoring":"optimistic",d.suspense){let e=e=>"static"===e?e:Math.max(null!=e?e:1e3,1e3),t=d.staleTime;d.staleTime="function"==typeof t?function(){for(var s=arguments.length,i=Array(s),a=0;a<s;a++)i[a]=arguments[a];return e(t(...i))}:e(t),"number"==typeof d.gcTime&&(d.gcTime=Math.max(d.gcTime,1e3))}(d.suspense||d.throwOnError||d.experimental_prefetchInRender)&&!h.isReset()&&(d.retryOnMount=!1),Y.useEffect(()=>{h.clearReset()},[h]);let c=!u.getQueryCache().get(d.queryHash),[_]=Y.useState(()=>new t(u,d)),p=_.getOptimisticResult(d),f=!o&&!1!==e.subscribed;if(Y.useSyncExternalStore(Y.useCallback(e=>{let t=f?_.subscribe(T.notifyManager.batchCalls(e)):P.noop;return _.updateResult(),t},[_,f]),()=>_.getCurrentResult(),()=>_.getCurrentResult()),Y.useEffect(()=>{_.setOptions(d)},[d,_]),(null==d?void 0:d.suspense)&&p.isPending)throw et(d,_,h);if((e=>{let{result:t,errorResetBoundary:s,throwOnError:i,query:a,suspense:r}=e;return t.isError&&!s.isReset()&&!t.isFetching&&a&&(r&&void 0===t.data||(0,P.shouldThrowError)(i,[t.error,a]))})({result:p,errorResetBoundary:h,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw p.error;if(null==(n=u.getDefaultOptions().queries)||null==(r=n._experimental_afterQuery)||r.call(n,d,p),d.experimental_prefetchInRender&&!P.isServer&&p.isLoading&&p.isFetching&&!o){let e=c?et(d,_,h):null==(l=u.getQueryCache().get(d.queryHash))?void 0:l.promise;null==e||e.catch(P.noop).finally(()=>{_.updateResult()})}return d.notifyOnChangeProps?p:_.trackResult(p)}(e,A,t)}},60678,e=>{"use strict";e.s(["HydrationBoundary",()=>n],60678);var t=e.i(71645);e.i(47167);var s=e.i(93803);function i(e){return e}function a(e,t,a){var r,n,l,o;if("object"!=typeof t||null===t)return;let h=e.getMutationCache(),u=e.getQueryCache(),d=null!=(o=null!=(l=null==a||null==(r=a.defaultOptions)?void 0:r.deserializeData)?l:null==(n=e.getDefaultOptions().hydrate)?void 0:n.deserializeData)?o:i,c=t.mutations||[],_=t.queries||[];c.forEach(t=>{var s,i;let{state:r,...n}=t;h.build(e,{...null==(s=e.getDefaultOptions().hydrate)?void 0:s.mutations,...null==a||null==(i=a.defaultOptions)?void 0:i.mutations,...n},r)}),_.forEach(t=>{let{queryKey:i,state:r,queryHash:n,meta:l,promise:o,dehydratedAt:h}=t,c=o?(0,s.tryResolveSync)(o):void 0,_=void 0===r.data?null==c?void 0:c.data:r.data,p=void 0===_?_:d(_),f=u.get(n),v=(null==f?void 0:f.state.status)==="pending",b=(null==f?void 0:f.state.fetchStatus)==="fetching";if(f){let e=c&&void 0!==h&&h>f.state.dataUpdatedAt;if(r.dataUpdatedAt>f.state.dataUpdatedAt||e){let{fetchStatus:e,...t}=r;f.setState({...t,data:p})}}else{var m,y;f=u.build(e,{...null==(m=e.getDefaultOptions().hydrate)?void 0:m.queries,...null==a||null==(y=a.defaultOptions)?void 0:y.queries,queryKey:i,queryHash:n,meta:l},{...r,data:p,fetchStatus:"idle",status:void 0!==p?"success":r.status})}o&&!v&&!b&&(void 0===h||h>f.state.dataUpdatedAt)&&f.fetch(void 0,{initialPromise:Promise.resolve(o).then(d)})})}var r=e.i(12598),n=e=>{let{children:s,options:i={},state:n,queryClient:l}=e,o=(0,r.useQueryClient)(l),h=t.useRef(i);h.current=i;let u=t.useMemo(()=>{if(n){if("object"!=typeof n)return;let e=o.getQueryCache(),t=n.queries||[],s=[],i=[];for(let a of t){let t=e.get(a.queryHash);t?(a.state.dataUpdatedAt>t.state.dataUpdatedAt||a.promise&&"pending"!==t.state.status&&"fetching"!==t.state.fetchStatus&&void 0!==a.dehydratedAt&&a.dehydratedAt>t.state.dataUpdatedAt)&&i.push(a):s.push(a)}if(s.length>0&&a(o,{queries:s},h.current),i.length>0)return i}},[o,n]);return t.useEffect(()=>{u&&a(o,{queries:u},h.current)},[o,u]),s}},15258,e=>{e.v({backBtn:"NotePreview-module__U-az_a__backBtn",container:"NotePreview-module__U-az_a__container",content:"NotePreview-module__U-az_a__content",date:"NotePreview-module__U-az_a__date",header:"NotePreview-module__U-az_a__header",item:"NotePreview-module__U-az_a__item",tag:"NotePreview-module__U-az_a__tag"})},21642,e=>{e.v({backdrop:"Modal-module__sR2AWG__backdrop",modal:"Modal-module__sR2AWG__modal"})},51262,e=>{"use strict";e.s(["default",()=>u],51262);var t=e.i(43476),s=e.i(15258),i=e.i(66027),a=e.i(18566),r=e.i(54858),n=e.i(21642),l=e.i(71645),o=e.i(74080);function h(e){let{onClose:s,children:i}=e,r=(0,a.useRouter)();return s||(s=()=>r.back()),(0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return document.addEventListener("keydown",e),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow=""}},[s]),(0,o.createPortal)((0,t.jsx)("div",{className:n.default.backdrop,role:"dialog","aria-modal":"true",onClick:e=>{e.target===e.currentTarget&&s()},children:(0,t.jsx)("div",{className:n.default.modal,children:i})}),document.body)}function u(){let e=(0,a.useRouter)(),{id:n}=(0,a.useParams)(),l=()=>{e.back()},{data:o,isLoading:u,error:d}=(0,i.useQuery)({queryKey:["note",n],queryFn:()=>(0,r.fetchNoteById)(n),refetchOnMount:!1});return u?(0,t.jsx)(h,{onClose:()=>e.back(),children:(0,t.jsx)("p",{children:"Loading, please wait..."})}):d||!o?(0,t.jsx)(h,{onClose:()=>e.back(),children:(0,t.jsx)("p",{children:"Something went wrong."})}):(0,t.jsx)(h,{onClose:l,children:(0,t.jsx)("div",{className:s.default.container,children:(0,t.jsxs)("div",{className:s.default.item,children:[(0,t.jsxs)("div",{className:s.default.header,children:[(0,t.jsx)("h2",{children:o.title}),(0,t.jsx)("button",{onClick:l,className:s.default.backBtn,children:"Back"})]}),(0,t.jsx)("p",{className:s.default.content,children:o.content}),(0,t.jsx)("p",{className:s.default.date,children:new Date(o.createdAt).toLocaleDateString()}),o.tag&&(0,t.jsx)("span",{className:s.default.tag,children:o.tag})]})})})}}]);