(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(t,e,i)=>{e.exports=t.r(76562)},54616,t=>{"use strict";t.s(["useMutation",()=>y],54616);var e,i,r,s,a,n,l=t.i(71645),o=t.i(39946),u=t.i(70292),c=t.i(62351),h=t.i(37696),d=t.i(88245),m=t.i(14272),_=t.i(40143),f=t.i(15823),v=t.i(19273),g=(e=new WeakMap,i=new WeakMap,r=new WeakMap,s=new WeakMap,a=new WeakSet,n=new WeakSet,class extends f.Subscribable{bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;let s=this.options;this.options=(0,o._)(this,e).defaultMutationOptions(t),(0,v.shallowEqualObjects)(this.options,s)||(0,o._)(this,e).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,o._)(this,r),observer:this}),(null==s?void 0:s.mutationKey)&&this.options.mutationKey&&(0,v.hashKey)(s.mutationKey)!==(0,v.hashKey)(this.options.mutationKey)?this.reset():(null==(i=(0,o._)(this,r))?void 0:i.state.status)==="pending"&&(0,o._)(this,r).setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var t;null==(t=(0,o._)(this,r))||t.removeObserver(this)}}onMutationUpdate(t){(0,h._)(this,a,p).call(this),(0,h._)(this,n,b).call(this,t)}getCurrentResult(){return(0,o._)(this,i)}reset(){var t;null==(t=(0,o._)(this,r))||t.removeObserver(this),(0,c._)(this,r,void 0),(0,h._)(this,a,p).call(this),(0,h._)(this,n,b).call(this)}mutate(t,i){var a;return(0,c._)(this,s,i),null==(a=(0,o._)(this,r))||a.removeObserver(this),(0,c._)(this,r,(0,o._)(this,e).getMutationCache().build((0,o._)(this,e),this.options)),(0,o._)(this,r).addObserver(this),(0,o._)(this,r).execute(t)}constructor(t,l){super(),(0,d._)(this,a),(0,d._)(this,n),(0,u._)(this,e,{writable:!0,value:void 0}),(0,u._)(this,i,{writable:!0,value:void 0}),(0,u._)(this,r,{writable:!0,value:void 0}),(0,u._)(this,s,{writable:!0,value:void 0}),(0,c._)(this,e,t),this.setOptions(l),this.bindMethods(),(0,h._)(this,a,p).call(this)}});function p(){var t,e;let s=null!=(e=null==(t=(0,o._)(this,r))?void 0:t.state)?e:(0,m.getDefaultState)();(0,c._)(this,i,{...s,isPending:"pending"===s.status,isSuccess:"success"===s.status,isError:"error"===s.status,isIdle:"idle"===s.status,mutate:this.mutate,reset:this.reset})}function b(t){_.notifyManager.batch(()=>{if((0,o._)(this,s)&&this.hasListeners()){var r,a,n,l,u,c,h,d;let m=(0,o._)(this,i).variables,_=(0,o._)(this,i).context,f={client:(0,o._)(this,e),meta:this.options.meta,mutationKey:this.options.mutationKey};(null==t?void 0:t.type)==="success"?(null==(r=(a=(0,o._)(this,s)).onSuccess)||r.call(a,t.data,m,_,f),null==(n=(l=(0,o._)(this,s)).onSettled)||n.call(l,t.data,null,m,_,f)):(null==t?void 0:t.type)==="error"&&(null==(u=(c=(0,o._)(this,s)).onError)||u.call(c,t.error,m,_,f),null==(h=(d=(0,o._)(this,s)).onSettled)||h.call(d,void 0,t.error,m,_,f))}this.listeners.forEach(t=>{t((0,o._)(this,i))})})}var S=t.i(12598);function y(t,e){let i=(0,S.useQueryClient)(e),[r]=l.useState(()=>new g(i,t));l.useEffect(()=>{r.setOptions(t)},[r,t]);let s=l.useSyncExternalStore(l.useCallback(t=>r.subscribe(_.notifyManager.batchCalls(t)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=l.useCallback((t,e)=>{r.mutate(t,e).catch(v.noop)},[r]);if(s.error&&(0,v.shouldThrowError)(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}},20896,t=>{t.v({actions:"NoteForm-module__XA_SlW__actions",cancelButton:"NoteForm-module__XA_SlW__cancelButton",error:"NoteForm-module__XA_SlW__error",form:"NoteForm-module__XA_SlW__form",formGroup:"NoteForm-module__XA_SlW__formGroup",input:"NoteForm-module__XA_SlW__input",select:"NoteForm-module__XA_SlW__select",submitButton:"NoteForm-module__XA_SlW__submitButton",textarea:"NoteForm-module__XA_SlW__textarea"})},85762,t=>{"use strict";t.s(["default",()=>_],85762);var e=t.i(43476),i=t.i(20896),r=t.i(54858),s=t.i(22016),a=t.i(71645);let n=t=>{let e,i=new Set,r=(t,r)=>{let s="function"==typeof t?t(e):t;if(!Object.is(s,e)){let t=e;e=(null!=r?r:"object"!=typeof s||null===s)?s:Object.assign({},e,s),i.forEach(i=>i(e,t))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>n,subscribe:t=>(i.add(t),()=>i.delete(t))},n=e=t(r,s,a);return a},l=t=>t,o=t=>{let e=(t=>t?n(t):n)(t),i=t=>(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,i=a.default.useSyncExternalStore(t.subscribe,a.default.useCallback(()=>e(t.getState()),[t,e]),a.default.useCallback(()=>e(t.getInitialState()),[t,e]));return a.default.useDebugValue(i),i})(e,t);return Object.assign(i,e),i},u=t=>e=>{try{let i=t(e);if(i instanceof Promise)return i;return{then:t=>u(t)(i),catch(t){return this}}}catch(t){return{then(t){return this},catch:e=>u(e)(t)}}},c={title:"",content:"",tag:""},h=(t=>t?o(t):o)()(((t,e)=>(i,r,s)=>{let a,n={storage:function(t,e){let i;try{i=t()}catch(t){return}return{getItem:t=>{var e;let r=t=>null===t?null:JSON.parse(t,void 0),s=null!=(e=i.getItem(t))?e:null;return s instanceof Promise?s.then(r):r(s)},setItem:(t,e)=>i.setItem(t,JSON.stringify(e,void 0)),removeItem:t=>i.removeItem(t)}}(()=>localStorage),partialize:t=>t,version:0,merge:(t,e)=>({...e,...t}),...e},l=!1,o=new Set,c=new Set,h=n.storage;if(!h)return t(function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];console.warn("[zustand persist middleware] Unable to update item '".concat(n.name,"', the given storage is currently unavailable.")),i(...e)},r,s);let d=()=>{let t=n.partialize({...r()});return h.setItem(n.name,{state:t,version:n.version})},m=s.setState;s.setState=(t,e)=>(m(t,e),d());let _=t(function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return i(...e),d()},r,s);s.getInitialState=()=>_;let f=()=>{var t,e;if(!h)return;l=!1,o.forEach(t=>{var e;return t(null!=(e=r())?e:_)});let s=(null==(e=n.onRehydrateStorage)?void 0:e.call(n,null!=(t=r())?t:_))||void 0;return u(h.getItem.bind(h))(n.name).then(t=>{if(t)if("number"!=typeof t.version||t.version===n.version)return[!1,t.state];else{if(n.migrate){let e=n.migrate(t.state,t.version);return e instanceof Promise?e.then(t=>[!0,t]):[!0,e]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(t=>{var e;let[s,l]=t;if(i(a=n.merge(l,null!=(e=r())?e:_),!0),s)return d()}).then(()=>{null==s||s(a,void 0),a=r(),l=!0,c.forEach(t=>t(a))}).catch(t=>{null==s||s(void 0,t)})};return s.persist={setOptions:t=>{n={...n,...t},t.storage&&(h=t.storage)},clearStorage:()=>{null==h||h.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>f(),hasHydrated:()=>l,onHydrate:t=>(o.add(t),()=>{o.delete(t)}),onFinishHydration:t=>(c.add(t),()=>{c.delete(t)})},n.skipHydration||f(),a||_})(t=>({draft:c,setDraft:e=>t(()=>({draft:e})),clearDraft:()=>t(()=>({draft:c}))}),{name:"note-draft-storage",partialize:t=>({draft:t.draft})}));var d=t.i(54616),m=t.i(18566);function _(){let t=(0,m.useRouter)(),{draft:a,setDraft:n,clearDraft:l}=h(),o=t=>{n({...a,[t.target.name]:t.target.value})},u=(0,d.useMutation)({mutationFn:r.createNote,onSuccess:()=>{l(),t.back()}});return(0,e.jsxs)("form",{action:t=>{let e={title:t.get("title"),content:t.get("content"),tag:t.get("tag")||void 0};u.mutate(e)},className:i.default.form,children:[(0,e.jsxs)("div",{className:i.default.formGroup,children:[(0,e.jsx)("label",{htmlFor:"title",children:"Title"}),(0,e.jsx)("input",{id:"title",type:"text",name:"title",className:i.default.input,defaultValue:a.title,onChange:o,required:!0})]}),(0,e.jsxs)("div",{className:i.default.formGroup,children:[(0,e.jsx)("label",{htmlFor:"content",children:"Content"}),(0,e.jsx)("textarea",{id:"content",name:"content",className:i.default.textarea,rows:8,defaultValue:a.content,onChange:o,required:!0})]}),(0,e.jsxs)("div",{className:i.default.formGroup,children:[(0,e.jsx)("label",{htmlFor:"tag",children:"Tag"}),(0,e.jsxs)("select",{id:"tag",name:"tag",className:i.default.select,defaultValue:a.tag,onChange:o,required:!0,children:[(0,e.jsx)("option",{value:"",children:"Select a tag"}),(0,e.jsx)("option",{value:"Todo",children:"Todo"}),(0,e.jsx)("option",{value:"Work",children:"Work"}),(0,e.jsx)("option",{value:"Personal",children:"Personal"}),(0,e.jsx)("option",{value:"Meeting",children:"Meeting"}),(0,e.jsx)("option",{value:"Shoping",children:"Shoping"})]})]}),(0,e.jsxs)("div",{className:i.default.actions,children:[(0,e.jsx)(s.default,{href:"/notes/filter/All",onClick:()=>t.back(),className:i.default.cancelButton,children:"Cancel"}),(0,e.jsx)("button",{type:"submit",className:i.default.submitButton,disabled:u.isPending,children:u.isPending?"Creating...":"Create Note"})]}),u.isError&&(0,e.jsx)("p",{className:i.default.error,children:"Error creating note. Please try again."})]})}}]);